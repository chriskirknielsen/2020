.content {
    $max: $container-max-width-rem;
    $wide-max: $wide-content-max-width-rem;
    $gutter: $spacing * 2;
    $column-width: $max - ($gutter * 2);

    max-width: #{ $max };
    margin-left: auto;
    margin-right: auto;

    @supports (display: grid) {
        display: grid;
        grid-template-columns:
            [fullbleed-start]
                1fr
            [wide-start]
                #{ $spacing * 2 }
            [container-start]
                minmax(0, calc(#{ $max } - #{ $gutter * 2 }))
            [container-end]
                #{ $spacing * 2 }
            [wide-end]
                1fr
            [fullbleed-end]
        ;

        max-width: 100%;
        margin-left: 0;
        margin-right: 0;

        > * {
            grid-column: container-start / container-end;
        }
        
        &-wide {
            grid-column: wide-start / wide-end;
        }

        &-full {
            grid-column: fullbleed-start / fullbleed-end;
        }

        &-wide-limited {
            max-width: #{ $wide-max };
            margin-left: auto;
            margin-right: auto;
        }
    }
}

// Define common styles for Prism and Codepen blocks, that will be oversized beyond the main container
pre[class*="language-"],
.cp_embed_wrapper {
    @extend .content-wide;
}

pre[class*="language-"] code,
.cp_embed_iframe {
    @extend .content-wide-limited;
}