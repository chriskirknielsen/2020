a {
    color: currentColor;
    text-decoration: underline;
}

a,
button,
summary {
    &:focus {
        outline: 4px dashed var(--colour-secondary);
    }

    &:focus:not(:focus-visible) {
        outline: none;
    }
        
    &:focus:not(:-moz-focusring) {
        outline: none;
    }
}

details {
    > summary {
        cursor: pointer;
    
        &::before {
            color: var(--c-secondary-med);
        }

        & ~ * {
            clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);

            transition: clip-path #{ $toggle-anim-duration } #{ $toggle-anim-function };
        }
    }

    &[open] > summary {    
        &::before {
            color: var(--colour-grey);
        }

        & ~ * {
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
        }
    }
}

@supports #{ unquote('selector(::marker)') } { // Hack around Sass selector error
    details {
        > summary {
            cursor: pointer;
        
            &::marker {
                content: '';
    
                display: none;
            }
    
            &::before {
                content: '';
                position: relative;
                top: -.125em;
    
                display: inline-block;
                width: 0;
                height: 0;
                margin-right: .5em;
    
                vertical-align: middle;
                border-width: #{ (.5em * $sqrt3) / 2 } 0 #{ (.5em * $sqrt3) / 2 } .5em;
                border-style: solid;
                border-color: transparent transparent transparent currentColor;
    
                transform-origin: 33.3% 50%;
                transition: transform #{ $toggle-anim-duration / 2 } #{ $easing-smooth };
                transition-property: color, transform;
            }
        }

        &[open] > summary {    
            &::before {
                transform: rotate(90deg);
            }
        }
    }
}